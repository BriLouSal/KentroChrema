{% load static tailwind_tags %}
<!doctype html>
<html lang="en">
  <head>
    {% tailwind_css %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ request.resolver_match.kwargs.stock_ticker }}</title>
  </head>
  <body class=" bg-gradient-to-b from-[#0F1B2D] to-[#13233A] min-h-screen flex flex-col gap-2">
    <div
      class="navbar text-black flex flex-row bg-white items-end justify-end rounded-2xl shadow-2xl w-full"
    >
      <a href="{% url 'portfolio' %}">Portfolio</a>
      <a href="{% url 'logout' %}">Logout</a>
    </div>

    <!--  We wanna create like a flex row for the wrappers for  the financial information -->
    <!-- BUt I wanna do grid since it offers so much flexibility -->
    <div
      class="max-w-7xl mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-8"
    >
      <div class="lg:col flex flex-col gap-8">
        <div class="bg-white rounded-2xl shadow-2xl p-6">
          <!-- Ticker and ticker information of close, etc. -->
          <div class="flex flex-col gap-4">
            <h1 class="text-3xl font-bold">{{ request.resolver_match.kwargs.stock_ticker }}</h1>
            <div class="flex flex-row gap-4 items-center">
              <span id="current-price" class="text-2xl font-semibold">$0.00</span>
              <span id="price-change" class="text-lg font-medium"></span>
            </div>

          </div>
       
        </div>

        <!-- News Section -->
        <div class="lg:col-span-2 flex flex-col gap-8">
          <div class="bg-white rounded-2xl shadow-2xl p-6">
            <h2 class="text-2xl font-bold mb-4">News</h2>
            <div id="news-container" class="flex flex-col gap-4">
              <!-- News items will be dynamically inserted here -->
               
            </div>
        </div>
      </div>
    </div>
    <!-- Left side: The Financial information overlay -->

    {% block scripts %}
    <script>
      const stockData = {{ stock_data|safe }};
      const stockTicker = {{stock_ticker | safe }};
      
      const newsData = {{ stock_news_data|safe }};
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js"></script>
    <script src="{% static 'stock.js' %}" defer></script>

    {% endblock scripts %}
  </body>
</html>
